<!DOCTYPE html>
<html lang="es">
{% load static %}
<head>
  <meta charset="UTF-8">
  <title>EDUGES - Home</title>
  <style>
    body { 
      margin:0; 
      font-family:Arial,sans-serif; 
      background:#f4f4f4; 
      min-height:100vh;
      overflow-y:auto; 
    }
    header { 
      background:#072f6b; 
      color:white; 
      padding:20px 30px; 
      display:flex; 
      align-items:center; 
    }
    .logo-container { 
      display:flex; 
      align-items:center; 
      gap:25px; 
    }
    .logo-container img { height:80px; }
    .logo-text { font-size:40px; font-weight:bold; }
    .container { 
      display:flex; 
      min-height:calc(100vh - 100px); 
      overflow:visible; 
    }
    .sidebar { 
      width:280px; 
      background:#0b3d91; 
      padding:20px 30px; 
      display:flex; 
      flex-direction:column; 
      box-sizing:border-box; 
    }
    .menu { 
      list-style:none; 
      padding:0; 
      margin:0; 
    }
    .menu li { margin:15px 0; }
    .menu a { 
      display:block; 
      text-decoration:none; 
      color:white; 
      font-weight:bold; 
      font-size:20px; 
      padding:10px 15px; 
      border-radius:5px; 
    }
    .menu a:hover { background:#072f6b; }
    .submenu ul { 
      list-style:none; 
      padding-left:20px; 
      margin-top:5px; 
      max-height:0; 
      overflow:hidden; 
      transition:max-height 0.3s ease; 
    }
    .submenu ul.open { max-height:300px; }
    .submenu a { position:relative; cursor:pointer; }
    .submenu > a::after { 
      content:"‚ñº"; 
      position:absolute; 
      right:15px; 
      font-size:12px; 
      transition:transform 0.3s; 
    }
    .submenu ul.open + a::after { transform:rotate(180deg); }
    .submenu ul li a { 
      font-weight:normal; 
      font-size:18px; 
      padding-left:25px; 
    }
    .submenu ul li a:hover { background:#09417e; }
    .user-info { 
      color:white; 
      font-weight:bold; 
      font-size:18px; 
      margin-top:auto;
      padding-top: 20px;
    }
    .user-info span { margin-right:10px; font-size:20px; }
    .user-email { font-size:14px; color:#e0e0e0; }
    .logout form { margin-top:10px; }
    .logout button { 
      width:100%; 
      padding:10px; 
      background:#c0392b; 
      color:white; 
      border:none; 
      border-radius:5px; 
      cursor:pointer; 
      font-size:16px; 
    }
    .logout button:hover { background:#e74c3c; }
    .content { 
      flex:1; 
      position:relative; 
      background:url("{% static 'imagenes/Recreo-Portada.jpg' %}") center/cover no-repeat fixed; 
      display:flex; 
      align-items:center; 
      justify-content:center; 
      min-height:calc(100vh - 100px); 
    }
    .content::before { 
      content:""; 
      position:absolute; 
      top:0; left:0; 
      width:100%; height:100%; 
      background-color:rgba(7,47,107,0.5); 
      z-index:1; 
    }
    .content h1 { 
      position:relative; 
      z-index:2; 
      font-size:3rem; 
      color:white; 
      text-align:center; 
      margin:0; 
    }
    @media (max-width:768px) {
      header { padding:15px 20px; }
      .logo-container img { height:60px; }
      .logo-text { font-size:28px; }
      .menu a { font-size:16px; padding:8px 12px; }
      .submenu ul li a { font-size:16px; padding-left:20px; }
      .content h1 { font-size:2rem; }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-container">
      <img src="{% static 'imagenes/eduges1.png' %}" alt="EduGes">
      <span class="logo-text">EduGes</span>
    </div>
  </header>
  <div class="container">
    <aside class="sidebar">
      <div>
        <ul class="menu">
          <li><a href="{% url 'home' %}">üèõÔ∏è Inicio</a></li>
          <li class="submenu">
            <a>Alumnos</a>
            <ul>
              <li><a href="{% url 'alta_alumnos' %}">‚úÖ Alta alumnos</a></li>
              <li><a href="{% url 'modificar_alumnos' %}">‚öôÔ∏è Modificar alumnos</a></li>
              <li><a href="{% url 'baja_alumnos' %}">‚ùå Baja alumnos</a></li>
            </ul>
          </li>
          <li class="submenu">
            <a>Tutores</a>
            <ul>
              <li><a href="{% url 'alta_tutores' %}">‚úÖ Alta tutores</a></li>
              <li><a href="{% url 'modificar_tutores' %}">‚öôÔ∏è Modificar tutores</a></li>
              <li><a href="{% url 'baja_tutores' %}">‚ùå Baja tutores</a></li>
            </ul>
          </li>
          <li class="submenu">
            <a>Usuarios</a>
            <ul>
              <li><a href="{% url 'alta_usuarios' %}">‚úÖ Alta usuario</a></li>
              <li><a href="{% url 'modificar_usuarios' %}">‚öôÔ∏è Modificar usuario</a></li>
              <li><a href="{% url 'baja_usuarios' %}">‚ùå Baja usuario</a></li>
            </ul>
          </li>
          <li class="submenu">
            <a>Pagos</a>
            <ul>
              <li><a href="{% url 'asignar_monto' %}"> Asignar monto</a></li>
              <li><a href="{% url 'pagos_alumnos' %}"> Pagos alumnos</a></li>
            </ul>
          </li>
          <li class="submenu">
            <a>Reportes</a>
            <ul>
              <li><a href="{% url 'tutores_vencida' %}">Tutores de cuota vencida</a></li>
              <li><a href="{% url 'cantidad_vencidas' %}">Cantidad de cuotas vencidas</a></li>
              <li><a href="{% url 'alumnos_dia' %}">Alumnos con cuotas al d√≠a</a></li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="user-info">
        {% if request.user.is_authenticated %}
          <div><span>üë§</span>{{ request.user.username }}</div>
          <div class="user-email">{{ request.user.email }}</div>
          <div class="logout">
            <form action="{% url 'logout' %}" method="post">
              {% csrf_token %}
              <button type="submit">Cerrar sesi√≥n</button>
            </form>
          </div>
        {% else %}
          <div>No hay usuario logueado</div>
        {% endif %}
      </div>
    </aside>
    <main class="content">
      <h1>Bienvenido al sistema EduGes</h1>
    </main>
  </div>
  <script>
    document.querySelectorAll(".submenu > a").forEach(menu => {
      menu.addEventListener("click", e => {
        e.preventDefault();
        const sublist = menu.nextElementSibling;
        document.querySelectorAll(".submenu ul").forEach(ul => {
          if (ul !== sublist) ul.classList.remove("open");
        });
        sublist.classList.toggle("open");
      });
    });
  </script>
</body>
</html>
